{"version":3,"sources":["StampContext/index.js","StampContext/useLocalStorage.js","StampCounter/index.js","StampSearch/index.js","StampList/index.js","StampForm/index.js","CreateStampButton/index.js","StampItem/index.js","Modal/index.js","App/AppUI.js","App/index.js","index.js"],"names":["StampContext","React","createContext","StampProvider","props","itemName","initialValue","useState","setError","loading","setLoading","item","setItem","useEffect","setTimeout","parsedItem","localStorageItem","localStorage","getItem","JSON","parse","stringify","error","saveItem","newItem","stringifiedItem","useLocalStorage","stamps","saveStamps","searchValue","setSearchValue","openModal","setOpenModal","collectionStamps","filter","sello","collection","length","totalStamps","searchedStamps","stampText","text","toLowerCase","searchText","includes","Provider","value","marcarStamps","stampIndex","findIndex","stamp","newStamps","deleteStamps","splice","addStamp","push","children","StampCounter","useContext","className","StampSearch","placeholder","onChange","event","console","log","target","StampList","StampForm","newStampValue","setNewStampValue","onSubmit","preventDefault","type","onClick","CreateStampButton","prevState","StampItem","onCollection","onDelete","Modal","reactDom","createPortal","document","getElementById","AppUI","Fragment","map","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.b9d38bfb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useLocalStorage } from \"./useLocalStorage\";\r\n\r\nconst StampContext = React.createContext();\r\n//Como stampcontext es un objeto, podemos sacar sus propiedades  -> que son 2 componentes\r\n\r\n//const { Provider, Consumer } = React.createContext();\r\n\r\n//creamos un puente, una ayuda, un atajo para comunicarlos\r\n\r\nfunction StampProvider(props) {\r\n\r\n    const {\r\n        item: stamps, \r\n        saveItem: saveStamps,\r\n        loading,\r\n        error,\r\n      } = useLocalStorage('STAMPS_V1', []);\r\n      \r\n        const [searchValue, setSearchValue] = React.useState('');\r\n        const [openModal, setOpenModal] = React.useState(false);\r\n        const collectionStamps = stamps.filter(sello => !!sello.collection).length;\r\n        const totalStamps = stamps.length;\r\n      \r\n        let searchedStamps = [];\r\n      \r\n        if (!searchValue.length  >= 1) {\r\n          searchedStamps = stamps;\r\n        } \r\n        else \r\n        {\r\n          searchedStamps = stamps.filter(sello => {\r\n            const stampText = sello.text.toLowerCase();\r\n            const searchText = searchValue.toLowerCase();\r\n            return stampText.includes(searchText);\r\n          })\r\n        }\r\n      \r\n        const addStamp  = (text) => {\r\n            const newStamps = [...stamps];\r\n            newStamps.push({\r\n                collection:false,\r\n                text,\r\n\r\n            });\r\n              saveStamps(newStamps);  //--> Ejecuta un RE-RENDER\r\n          }\r\n      \r\n      const marcarStamps  = (text) => {\r\n        const stampIndex = stamps.findIndex(stamp => stamp.text === text);\r\n        \r\n        const newStamps = [...stamps];\r\n        newStamps[stampIndex].collection=true; \r\n          //stamps[stampIndex] = {\r\n          //  text: stamps[stampIndex].text,\r\n          //  collection: true,\r\n          //};\r\n          saveStamps(newStamps);  //--> Ejecuta un RE-RENDER\r\n      }\r\n      \r\n      const deleteStamps = (text) => {\r\n        const stampIndex = stamps.findIndex(stamp => stamp.text === text);\r\n        const newStamps = [...stamps];\r\n        newStamps.splice(stampIndex,1);\r\n        saveStamps(newStamps);\r\n      }\r\n      \r\n\r\n\r\n    return (\r\n        //Todas las propiedades que queramos compartir deberán estar en value\r\n        //value será un objeto \r\n        <StampContext.Provider value={{\r\n            loading,\r\n            error,\r\n            totalStamps,\r\n            collectionStamps,\r\n            searchValue,\r\n            setSearchValue,\r\n            searchedStamps,\r\n            marcarStamps,\r\n            deleteStamps,\r\n            addStamp,\r\n            openModal,\r\n            setOpenModal,\r\n        }}>\r\n            {props.children}\r\n        </StampContext.Provider>\r\n    );\r\n}\r\n\r\nexport {StampContext, StampProvider }\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\nfunction useLocalStorage(itemName, initialValue) {\r\n    const [error, setError] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [item, setItem] = React.useState(initialValue); //Tenemos un estado guardado (el de item) y un método para actualizarlo. Gracias a useState\r\n\r\n    React.useEffect( () => {\r\n      setTimeout(() => {\r\n        try {\r\n          const localStorageItem = localStorage.getItem(itemName);\r\n          let parsedItem;\r\n        \r\n          if (!localStorageItem ) {\r\n              localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n              parsedItem = initialValue;\r\n          } else {\r\n            parsedItem = JSON.parse(localStorageItem);\r\n          }\r\n  \r\n          setItem(parsedItem);\r\n          setLoading(false);\r\n  \r\n        } catch(error) {\r\n          setError(error)\r\n        }\r\n      }, 2500);\r\n    });\r\n\r\n \r\n  const saveItem = (newItem) => {\r\n   try{\r\n    const stringifiedItem = JSON.stringify(newItem);\r\n    localStorage.setItem(itemName, stringifiedItem);\r\n    setItem(newItem);\r\n   }\r\n   catch(error) {\r\n    setError(error)\r\n   }\r\n  };\r\n\r\n  return {\r\n    item,\r\n    saveItem,\r\n    loading,\r\n  };\r\n}\r\n\r\nexport { useLocalStorage }","import React from \"react\";\r\nimport { StampContext } from \"../StampContext\";\r\nimport \"./StampCounter.css\";\r\n\r\nconst estilos = {\r\n    color: 'red',\r\n    backgroundColor: 'yellow',\r\n    \r\n};\r\n\r\n\r\n\r\nfunction StampCounter() {\r\n    const {totalStamps, collectionStamps} = React.useContext(StampContext);\r\n\r\n    return (\r\n        <h2 className=\"StampCounter\">En MCM puedes ver {collectionStamps} de estos {totalStamps} Sellos</h2>\r\n    );\r\n}\r\n\r\n//export default StampCounter;  -> estaría ok pero pueden generarse erroores\r\nexport { StampCounter };  //--> obligar a usar los nommrbes que yo quiero\r\n","import React from \"react\";\r\nimport './StampSearch.css';\r\nimport { StampContext } from \"../StampContext\";\r\n\r\nfunction StampSearch(){\r\n\r\n    const {searchValue, setSearchValue} = React.useContext(StampContext);\r\n\r\n    const onSearchValueChange = (event) => {\r\n        console.log(event.target.value);\r\n        setSearchValue(event.target.value);\r\n    };\r\n\r\n    return[\r\n        <input \r\n            className=\"StampSearch\" \r\n            placeholder=\"Barcelona\"\r\n            value={searchValue}\r\n            onChange={onSearchValueChange}\r\n        />,\r\n        <p>{searchValue}</p>\r\n    ];\r\n}\r\n\r\nexport { StampSearch }","import react from \"react\";\r\nimport './StampList.css';\r\n\r\nfunction StampList (props) {\r\n    return(\r\n        <sectio>\r\n            <ul>\r\n                {props.children}\r\n            </ul>\r\n        </sectio>\r\n    );\r\n}\r\n\r\nexport {StampList}","import React from \"react\";\r\nimport { StampContext } from \"../StampContext\";\r\nimport './StampForm.css'\r\n\r\nfunction StampForm() {\r\n    const [newStampValue,setNewStampValue] = React.useState();\r\n\r\n    const {\r\n        addStamp,\r\n        setOpenModal\r\n    } = React.useContext(StampContext);\r\n\r\n\r\n    const onChange = (event) => {\r\n        setNewStampValue(event.target.value);\r\n    };    \r\n\r\n    const onCancel = () => {\r\n       setOpenModal(false);\r\n    };\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault(); //cuando el formulario se envia, no se recarga la pagina sino que se cancela\r\n       addStamp(newStampValue);\r\n       setOpenModal(false);\r\n    };\r\n\r\n    return (\r\n            <form onSubmit={onSubmit}>\r\n                    <label>Añade sellos mundiales...</label>\r\n                    <textarea\r\n                    value={newStampValue}\r\n                    onChange={onChange}\r\n                    placeholder=\"Descripción del nuevo sello...\"\r\n                     />\r\n                     <div className=\"StampForm-buttonContainer\">\r\n                         <button\r\n                            type=\"button\"\r\n                            className=\"StampForm-button StampForm-button--cancel\"\r\n                            onClick={onCancel}\r\n                         >\r\n                            Cancelar\r\n                         </button>\r\n                         <button\r\n                          type=\"submit\"\r\n                          className=\"StampForm-button StampForm-button--add\"\r\n                         >\r\n                            Añadir\r\n                         </button>\r\n                     </div>\r\n            </form>\r\n    );\r\n}\r\n\r\nexport { StampForm};","import react from \"react\";\r\nimport \"./CreateStampButton.css\";\r\n\r\nfunction CreateStampButton(props){\r\n\r\n    const onClickButton = () => {\r\n       props.setOpenModal(prevState => !prevState);\r\n\r\n       \r\n    };\r\n\r\n    return(\r\n        <button \r\n            className=\"CreateTodoButton\"\r\n            onClick={onClickButton}\r\n        >\r\n            +\r\n\r\n            \r\n        </button>\r\n    );\r\n}\r\n\r\nexport { CreateStampButton }","import react from \"react\";\r\nimport './StampItem.css';\r\n\r\nfunction StampItem (props) {\r\n\r\n    const onCollection = () => {\r\n        alert('Sello conseguido para MCM: ' + props.text);\r\n    };\r\n\r\n    const onDelete = () => {\r\n        alert('Sello eliminado de MCM: ' + props.text);\r\n    };\r\n\r\n    return(\r\n        <li className=\"StampItem\">\r\n            <span \r\n                className={ `Icon Icon-check ${props.collection && 'Icon-check--active'}`} \r\n                onClick={props.onCollection}\r\n            >\r\n            ✓\r\n            </span>\r\n            <p className={ `StampItem-p ${props.collection && 'StampItem-p--complete'}`}>\r\n                {props.text}\r\n            </p>\r\n            <span \r\n                className=\"Icon icon-delete\"\r\n                onClick={ props.onDelete }\r\n            >\r\n                X\r\n            </span>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport { StampItem }","import React from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport './Modal.css';\r\n\r\nfunction Modal({children}) {\r\n    return reactDom.createPortal(\r\n        <div className=\"ModalBackground\">\r\n               {children} \r\n        </div>,\r\n\r\n        document.getElementById('modal')\r\n    );\r\n}\r\n\r\nexport { Modal }","import React from 'react';\r\nimport { StampContext } from '../StampContext';\r\nimport { StampCounter } from '../StampCounter';\r\nimport { StampSearch } from '../StampSearch';\r\nimport { StampList } from '../StampList';\r\nimport {StampForm } from '../StampForm';\r\nimport { CreateStampButton } from '../CreateStampButton';\r\nimport { StampItem } from '../StampItem';\r\nimport { Modal } from '../Modal';\r\n\r\nfunction AppUI() {\r\n\r\n    const {\r\n            error, \r\n            loading,\r\n            searchedStamps,\r\n            marcarStamps,\r\n            deleteStamps,\r\n            openModal,\r\n            setOpenModal,\r\n        } = React.useContext(StampContext);\r\n\r\n\r\n    return (\r\n<React.Fragment>\r\n    <StampCounter />\r\n    <StampSearch />\r\n            <StampList>\r\n            {error && <p>Hubo un error...</p>}\r\n            {loading && <p>Estamos cargando...</p>}\r\n            {!loading && !searchedStamps.length  && <p>Añade el primer sello</p>}\r\n    \r\n            {searchedStamps.map(stamp => (\r\n                  <StampItem \r\n                    key={stamp.text} \r\n                    text={stamp.text} \r\n                    collection={stamp.collection}\r\n                    onCollection={ () => marcarStamps(stamp.text) }\r\n                    onDelete={() => deleteStamps(stamp.text)}\r\n                />\r\n              ))}\r\n            </StampList>        \r\n\r\n\r\n       {!!openModal && (\r\n            <Modal>\r\n                <StampForm />\r\n            </Modal>\r\n       )}\r\n\r\n    <CreateStampButton\r\n        setOpenModal={setOpenModal}\r\n     />\r\n</React.Fragment>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport { AppUI };","import React from 'react';\nimport { StampContext, StampProvider } from '../StampContext';\nimport { AppUI } from './AppUI';\n\n/*\n[{ text: 'La Pedrera de Gaudi', collection: true},\n  { text: 'Parque Guell de Gaudi', collection: true},\n  { text: 'Buzón de correos Casa del Arcediano, de Lluis Domênech i Muntaner', collection: false},\n  { text: 'Catedral Barcelona', collection: false},\n  { text: 'Jarrón de las gacelas', collection: false}]\n*/\n\n\n\nfunction App() {\n  return (\n    <StampProvider>\n      <AppUI />\n    </StampProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';   //para páginas webs\nimport './index.css';\nimport App from './App/index.js';\nimport reactDom from 'react-dom';\n\n\nReactDOM.render(\n     <App />,\n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}